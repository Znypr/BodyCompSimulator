/* --- GLOBAL SPACING --- */
.block-container {
    padding-top: 3rem !important;
    padding-bottom: 2rem;
}

/* ============================================================
   DARK MODE TEXT FIX (Overrides all text to White when background is dark)
   ============================================================ */
/* Target the app when its background is dark. This has the highest specificity. */
.stApp[style*="background-color: rgb(14, 17, 23)"] {
    /* CRITICAL FIX: Forces ALL headings, labels, and paragraph text to white */
    & h1, & h2, & h3, & p, & label, & span, 
    & .stMarkdown, & [data-testid="stMetricValue"], & [data-testid="stMetricLabel"] {
        color: #ffffff !important;
    }
}

/* ============================================================
   CHART CARDS (Always matches the Left Panel)
   ============================================================ */

.stPlotlyChart, .stCard {
    border: none !important;
    box-shadow: none !important;
}


[data-testid="stPlotlyChart"] {
    /* Uses the Sidebar/Left Panel color which switches automatically with the toggle */
    background-color: var(--secondary-background-color) !important;
    
    border: 1px solid rgba(128, 128, 128, 0.2);
    box-shadow: 0 2px 5px rgba(0,0,0,0.05);
    border-radius: 8px;
}

/* ============================================================
   LIGHT MODE (Default) INPUT STYLING
   ============================================================ */
:root[data-theme="light"] input {
    background-color: #ffffff !important;
    color: #000000 !important;
    -webkit-text-fill-color: #000000 !important;
}

:root[data-theme="light"] div[data-baseweb="input"] {
    background-color: #ffffff !important;
    border: 1px solid #d6d6d6 !important;
}

:root[data-theme="light"] .stPlotlyChart > div {
    background-color: #ffffff !important;
    border: 1px solid #d6d6d6 !important;
    border-radius: 8px !important;
}

/* ============================================================
   DARK MODE INPUT STYLING (Dark Gray Box / White Text)
   ============================================================ */
:root[data-theme="dark"] input,
:root[data-theme="dark"] textarea,
:root[data-theme="dark"] select {
    background-color: #31333f !important;
    color: #ffffff !important;
    -webkit-text-fill-color: #ffffff !important;
}

:root[data-theme="dark"] .stTextInput > div > div,
:root[data-theme="dark"] .stNumberInput > div > div {
    background-color: #2a2a2f !important;
}

:root[data-theme="dark"] ::placeholder {
    color: #bbbbbb !important;
}

:root[data-theme="dark"] .stPlotlyChart > div {
    background-color: #0e1117 !important; /* sidebar bg color */
    border: 1px solid rgba(128, 128, 128, 0.2) !important;
    border-radius: 8px !important;
}